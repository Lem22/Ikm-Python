# ExpressionTreeParser

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–ü—Ä–µ–¥—ã—Å—Ç–æ—Ä–∏—è](#–ø—Ä–µ–¥—ã—Å—Ç–æ—Ä–∏—è)  
2. [–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏](#–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)  
3. [–ê–ª–≥–æ—Ä–∏—Ç–º](#–∞–ª–≥–æ—Ä–∏—Ç–º)  
4. [–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è](#—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)  
5. [–ó–∞–ø—É—Å–∫ –ø—Ä–æ–≥—Ä–∞–º–º—ã](#–∑–∞–ø—É—Å–∫-–ø—Ä–æ–≥—Ä–∞–º–º—ã)  
6. [–î–∏–∑–∞–π–Ω–µ—Ä—Å–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è](#–¥–∏–∑–∞–π–Ω–µ—Ä—Å–∫–∏–µ-—Ä–µ—à–µ–Ω–∏—è)  
7. [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](#—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)  
8. [–ê–≤—Ç–æ—Ä –∏ –ª–∏—Ü–µ–Ω–∑–∏—è](#–∞–≤—Ç–æ—Ä-–∏-–ª–∏—Ü–µ–Ω–∑–∏—è)

---

## –ü—Ä–µ–¥—ã—Å—Ç–æ—Ä–∏—è

–î–µ—Ä–µ–≤—å—è –≤—ã—Ä–∞–∂–µ–Ω–∏–π —à–∏—Ä–æ–∫–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø—Ä–∏ –∞–Ω–∞–ª–∏–∑–µ –∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏–∏ –∞–ª–≥–µ–±—Ä–∞–∏—á–µ—Å–∫–∏—Ö —Ñ–æ—Ä–º—É–ª, –æ—Å–æ–±–µ–Ω–Ω–æ –≤ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞—Ö, —Å–∏—Å—Ç–µ–º–∞—Ö —Å–∏–º–≤–æ–ª—å–Ω—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –∞–ª–≥–µ–±—Ä–∞–∏—á–µ—Å–∫–∏—Ö –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–π.  
–í —Ä–∞–º–∫–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ **—á–∏—Å—Ç–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞—Ä—Å–µ—Ä–∞ –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π**, –∫–æ—Ç–æ—Ä—ã–π:

- –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∏–Ω—Ñ–∏–∫—Å–Ω—É—é –∑–∞–ø–∏—Å—å –≤—ã—Ä–∞–∂–µ–Ω–∏—è;
- —Å—Ç—Ä–æ–∏—Ç –¥–µ—Ä–µ–≤–æ –≤—ã—Ä–∞–∂–µ–Ω–∏—è —Å —É—á—ë—Ç–æ–º –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞ –æ–ø–µ—Ä–∞—Ü–∏–π –∏ —Å–∫–æ–±–æ–∫;
- —É–ø—Ä–æ—â–∞–µ—Ç –≤—ã—Ä–∞–∂–µ–Ω–∏–µ (–≤ —Ç–æ–º —á–∏—Å–ª–µ —á–µ—Ä–µ–∑ —Ñ–∞–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—é);
- –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ –∏—Ö –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫—É;
- —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫ –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤.

---

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üß© –°–æ–±—Å—Ç–≤–µ–Ω–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö —É–∑–ª–æ–≤ –¥–µ—Ä–µ–≤–∞ (`ValueNode`, `UnaryMinusNode`, `BinaryOpNode`)  
- üß† –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—ã—Ä–∞–∂–µ–Ω–∏–π —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –∏ —Å–∫–æ–±–∫–∞–º–∏  
- üîÉ –£–ø—Ä–æ—â–µ–Ω–∏–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º:  
  `f1*f3 + f2*f3 ‚Üí (f1 + f2)*f3`,  
  `f1*f2 + f1*f3 ‚Üí f1*(f2 + f3)`
- üßÆ –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –ø–æ—Å–ª–µ –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–Ω–∞—á–µ–Ω–∏–π  
- üõ°Ô∏è –ó–∞—â–∏—Ç–∞ –æ—Ç –¥–µ–ª–µ–Ω–∏—è –Ω–∞ –Ω–æ–ª—å, –æ—à–∏–±–æ–∫ –ø–∞—Ä—Å–∏–Ω–≥–∞ –∏ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

---

## –ê–ª–≥–æ—Ä–∏—Ç–º

–ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤ –∫–æ–¥–µ, –Ω–æ –∫—Ä–∞—Ç–∫–æ –ª–æ–≥–∏–∫–∞ —Å–ª–µ–¥—É—é—â–∞—è:

1. –í—ã—Ä–∞–∂–µ–Ω–∏–µ –≤–≤–æ–¥–∏—Ç—Å—è –≤ –∏–Ω—Ñ–∏–∫—Å–Ω–æ–π —Ñ–æ—Ä–º–µ: `a * c + b * c`
2. –ü–∞—Ä—Å–µ—Ä (`Parser`) –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å—Ç—Ä–æ–∫—É –∏ —Å–æ–∑–¥–∞—ë—Ç —É–∑–ª—ã –¥–µ—Ä–µ–≤–∞:
   - —á–∏—Å–ª–∞ –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ ‚Äî `ValueNode`
   - —É–Ω–∞—Ä–Ω—ã–µ –º–∏–Ω—É—Å—ã ‚Äî `UnaryMinusNode`
   - –±–∏–Ω–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ ‚Äî `BinaryOpNode`
3. –°—Ç—Ä–æ–∏—Ç—Å—è –¥–µ—Ä–µ–≤–æ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º `+ - * /`
4. –ú–µ—Ç–æ–¥ `simplify()` —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ —É–ø—Ä–æ—â–∞–µ—Ç –¥–µ—Ä–µ–≤–æ:
   - –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –º–Ω–æ–∂–∏—Ç–µ–ª–∏,
   - –≤—ã—á–∏—Å–ª—è–µ—Ç —á–∏—Å–ª–æ–≤—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è.
5. –ú–µ—Ç–æ–¥ `evaluate()` –≤—ã—á–∏—Å–ª—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ –¥–µ—Ä–µ–≤—É, –∏—Å–ø–æ–ª—å–∑—É—è –ø–æ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è.

---

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.7 –∏–ª–∏ –≤—ã—à–µ  
- –¢–æ–ª—å–∫–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ (–º–æ–¥—É–ª—å `typing`)  
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö –ø–∞–∫–µ—Ç–æ–≤ **–Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è**

---

## –ó–∞–ø—É—Å–∫ –ø—Ä–æ–≥—Ä–∞–º–º—ã

1. –°–∫–∞—á–∞–π—Ç–µ —Ñ–∞–π–ª `ikm.py`  
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ:

```bash
python ikm.py
```

3. –í–≤–µ–¥–∏—Ç–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –≤ –∏–Ω—Ñ–∏–∫—Å–Ω–æ–π –∑–∞–ø–∏—Å–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä:
```
a*c + b*c
```

4. –ü—Ä–æ–≥—Ä–∞–º–º–∞ –≤—ã–≤–µ–¥–µ—Ç:
- –ò—Å—Ö–æ–¥–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –≤ —Å–∫–æ–±–æ—á–Ω–æ–π –∏–Ω—Ñ–∏–∫—Å–Ω–æ–π —Ñ–æ—Ä–º–µ  
- –£–ø—Ä–æ—â—ë–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é (–µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ)  
- –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –≤–≤–µ—Å—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö:
```
–í–≤–µ–¥–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π 'a': 2  
–í–≤–µ–¥–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π 'b': 3  
–í–≤–µ–¥–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π 'c': 4
```

5. –†–µ–∑—É–ª—å—Ç–∞—Ç:
```
–†–µ–∑—É–ª—å—Ç–∞—Ç: 20
```

6. –î–ª—è –≤—ã—Ö–æ–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `Ctrl+C` –∏–ª–∏ `n` –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è

---

## –î–∏–∑–∞–π–Ω–µ—Ä—Å–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è

- üå≥ –í—Å–µ —É–∑–ª—ã –¥–µ—Ä–µ–≤–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–ª–∞—Å—Å—ã —Å –º–µ—Ç–æ–¥–∞–º–∏ `evaluate`, `simplify`, `to_infix`
- üßº –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –±–µ–∑ `collections`, `math`, `eval`
- üö´ –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∞–≥—Ä–µ–≥–∞—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (`min`, `eval`, `join`) –Ω–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è
- üõ† –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤—Å—Ç—Ä–æ–µ–Ω–∞ –≤ –ø–∞—Ä—Å–µ—Ä –∏ –¥–µ—Ä–µ–≤–æ (`ParseError`, `ZeroDivisionError`, `ValueError`)
- ‚ôªÔ∏è –£–Ω–∞—Ä–Ω—ã–π –º–∏–Ω—É—Å –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ
- üëÅ –ü—Ä–æ–≥—Ä–∞–º–º–∞ –≤—ã–≤–æ–¥–∏—Ç –≤—Å–µ —ç—Ç–∞–ø—ã: –∏—Å—Ö–æ–¥–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ ‚Üí —É–ø—Ä–æ—â–µ–Ω–∏–µ ‚Üí —Ä–µ–∑—É–ª—å—Ç–∞—Ç

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

| ‚Ññ  | –í–≤–æ–¥–∏–º–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ      | –£–ø—Ä–æ—â–µ–Ω–∏–µ                   | –†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–∏ `a=2`, `b=3`, `c=4` |
|----|--------------------------|-----------------------------|------------------------------------|
| 1  | `2 + 3 * 4`              | `2 + 12`                    | `14`                               |
| 2  | `a*c + b*c`              | `(a + b) * c`               | `20`                               |
| 3  | `-(a + b) * 2`           | `-((a + b)) * 2`            | `-10`                              |
| 4  | `a*b + a*c`              | `a * (b + c)`               | `14`                               |
| 5  | `x`                      | `x`                         | `–≤–≤–µ–¥–∏—Ç–µ x ‚Üí 7` ‚Üí `7`              |
| 6  | `a + b` ‚Üí `b` –ø—Ä–æ–ø—É—â–µ–Ω–æ  | ‚Äî                           | `–û—à–∏–±–∫–∞: Variable 'b' not defined.`|
| 7  | `10 / y` ‚Üí `y = 0`       | ‚Äî                           | `–û—à–∏–±–∫–∞: Division by zero`         |
| 8  | `(a + b)) * 3`           | ‚Äî                           | `–û—à–∏–±–∫–∞: Unexpected characters`    |

---

## –ê–≤—Ç–æ—Ä –∏ –ª–∏—Ü–µ–Ω–∑–∏—è

–ê–≤—Ç–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞: **[–¢—Ä–æ—à–∫–æ–≤.–î.–° , –ê–Ω–∏—Å–∏–º–æ–≤–∞.–°.–ò]**  
–ü—Ä–æ–µ–∫—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω –≤ —É—á–µ–±–Ω—ã—Ö —Ü–µ–ª—è—Ö.  
–õ–∏—Ü–µ–Ω–∑–∏—è: —Å–≤–æ–±–æ–¥–Ω–∞—è –¥–ª—è –Ω–µ–∫–æ–º–º–µ—Ä—á–µ—Å–∫–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.
